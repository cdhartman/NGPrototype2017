<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<title>MCTN | Patient Education</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<link href="../favicon.ico" rel="shortcut icon" />
	<link rel="stylesheet" type="text/css" href="../styles/splash.css">
	<link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Roboto+Condensed' rel='stylesheet' type='text/css'>
	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
	
	<script type="text/javascript" src="../js/jQuery/jquery-2.min.js"></script>
	<script type="text/javascript" src="../js/HEWXMLWrapper.js"></script>
	<script type="text/javascript" src="../js/HEWCommands.js"></script>
	<script type="text/javascript" src="../js/HEWAlert.js"></script>
	<script type="text/javascript" src="../js/patientEd/getPatEdCategories.js"></script>
	<script type="text/javascript" src="../js/modExtras.js"></script>
	<style>
		#draggable-element {
			width:111px;
			height:188px;
			color:white;
			cursor:move;
			z-index: 200;
			left: 1790px;
			/* background-image: url(../images/remote/remote.gif);
			background-repeat: no-repeat */
			position:relative; /* important (all position that's not `static`) */
		}
	</style>
	
</head>

<body leftmargin="0" topmargin="0">
	<div id="draggable-element">
		<a href="javascript:void(0);" style="z-index: 120;"><img src="../images/remote/remote.gif" id="remoteImage" onclick="alert(document.activeElement)" /></a>
	
	</div>
	<!-- 
	<div style="position: absolute; left: 6px; top: 6px; width: 36px; height: 38px; background-color: black; z-index: 100; opacity: .20; border-radius: 10px; ">
		<a href="../index.html"><img src="../images/icons/launcher/home.png" style="cursor: pointer; cursor: hand;" width="36" /></a>
	</div>
	-->
	<div class="container">
		<!-- <img src="../images/screens/sectionPE-HD.gif" id="splashScreen" alt="" /> -->
		<div id="navBarLeft" class="navBarLeft" onclick="navBarLeftFunction('');"></div>
		<div class="title" id="title">Patient Education<br><span id="catalogName">Adult Education<span></div>
		<div id="categories" class="categories">
			<div class="ajaxLoader" id="ajaxLoader">Loading Patient Education Categories, please wait...</div>
		</div>
		<div class="itemCount" id="itemCount"></div>
		<div class="favLegend" id="favLegend"><img src="../images/icons/star_blue.gif" class="favLegend993" align="top" /> Channel 999 Preferred Category</div>
		<div class="box1sidePE"><img src="../images/icons/mayo/MC_stack_wht.png" id="mayoSplashImage" width="95" /></div>
		<div class="searchPE"><img src="../images/icons/search.png" id="mayoSplashImage" onclick="searchPE();" /></div>
		<div id="navBar"></div>
	</div>
</body>
</html>

<script type="text/javascript">
	var screenFormat = getURLParameter('screenFormat', 'HD'), settopid = getURLParameter('settopid', 'Guest'), numOfColumns = 2, numOfRows = 9, classFormat = 'Main', tabIndexDefault = 1,
		titleLength = getURLParameter('titleLength', ''), start = getURLParameter('start', '1'),  view = getURLParameterNoDefault('view'), site = getSite(), pePreferences = '',
		navBarLeftParam = getURLParameter('navBarLeft', 'expand'), triggerLeftNavFlag = false;

	// if STB is unknown, lookup information, store cookies 
	if (settopid === '' && site === 'RO') {settopid = getMacAddress(); getSTBTier(settopid, '../'); }
	pePreferences = getCookie('pePreferences');
	
	// load CSS and SplashScreen
	loadCSSSplashScreen(screenFormat, settopid, '', 'PE');

	// alert(view);
	if (typeof view === 'undefined') {
		triggerLeftNavFlag = true;
		var mode = getURLParameterNoDefault('mode');
		if (typeof mode === 'undefined' || mode === 'default') {
			view = 'Adult';
		} else {
			view = mode;
		}
	}
	$('#navBarLeft').load('../includes/peNavBar' + screenFormat + '.html');
	if (screenFormat === 'HD') {
		// numOfRows = 14; numOfColumns = 3, classFormat = 'Main';
		numOfRows = 20;
		numOfColumns = 3;
		classFormat = 'MainWide';
		if (view === 'Pediatric') {
			numOfRows = 20;
			numOfColumns = 3;
			classFormat = 'MainWide';
		}
	}

	if (view === 'freqViewed') {
		if (screenFormat === 'SD') {
			numOfRows = 9; numOfColumns = 2;
		} else {
			numOfRows = 10;
		}
		getPatientEdCategories('../../modAssets/xml/993.xml', '3', start, numOfColumns, numOfRows, classFormat, 'categories', view, titleLength, site, screenFormat);
		$('#fvBottom').load('../includes/navBarFVPE.html');
		// document.getElementById("fvBottom").style.display = "block";
		tabIndexDefault = 67;
		getPatientEdFavCategories(start, pePreferences, 'Main', 'categories', site, screenFormat);
	} else if (view === 'GBS') {
		if (screenFormat === 'SD') {
			numOfRows = 9; numOfColumns = 2;
		} else {
			numOfRows = 10;
		}
		getPatientEdCategories('../xml/GBS.xml', '3', start, numOfColumns, numOfRows, classFormat, 'categories', view, titleLength, site, screenFormat);
		$('#fvBottom').load('../includes/navBarFVPE.html');
		// document.getElementById("fvBottom").style.display = "block";
		tabIndexDefault = 67;
		getPatientEdFavCategories(start, pePreferences, 'Main', 'categories', site, screenFormat);
	} else if (view === 'Pediatric') {
		getPatientEdCategories('../../modAssets/xml/Catalog.xml', '4711', start, numOfColumns, numOfRows, classFormat, 'categories', view, titleLength, site, screenFormat);
	} else if (view === 'Mayo Information') {
		getPatientEdCategories('../../modAssets/xml/Catalog.xml', '24', start, numOfColumns, numOfRows, classFormat, 'categories', view, titleLength, site, screenFormat);
	} else if (view === 'search') {
		$('#categories').html("Loading Search Form, please wait...").load('../includes/peSearchForm.html');
		$("head").append('<script type=\"text\/javascript\" src=\"../js/jQuery/jquery-ui.js\"><\/script>');
		$("head").append('<script type=\"text\/javascript\" src=\"../js/patientEd/psSearch.js\"><\/script>');
		document.getElementById("splashImageCategory").style.display = "none";
		document.getElementById("splashImageMayoLogo").style.display = "none";
		setTimeout(function () { $('#navbarNext').html(''); $('#navbarPrev').html(""); $('input#searchBox').autocomplete({autoFocus: true}).mouseenter().click(); $('#navbarNext').html("");  document.getElementById("navbarPrev").className = "navbar navbarblank";  }, 900);
	} else {
		getPatientEdCategories('../../modAssets/xml/Catalog.xml', '3', start, numOfColumns, numOfRows, classFormat, 'categories', view, titleLength, site, screenFormat);
		if (getCookie('pePreferences').length > 1) { document.getElementById("descriptionLegend").style.display = "block"; }
	}

	if (view !== 'search') {
		$(function () { $(document).keyup(function (e) { navigationKeys(e, 'pe', screenFormat, settopid); }); });
	}
	$('#ajaxLoader').html("");
	document.getElementById("ajaxLoader").style.display = "none";
	setTimeout(function () {
		// if (view === 'freqViewed' && $("#preferredCategoriesLabel").html() === '') { getPatientEdFavCategories(start, 'Main', 'categories', site, screenFormat);
		//}
		if (triggerLeftNavFlag) { navBarLeftFunction(navBarLeftParam); } else { adjustScreenHeightWidth(); }
	}, 2000);
	if (view === 'freqViewed') {
		updateVideoDetailTitleBar('Health Care Provider', '', 'title', view, screenFormat);
	} else {
		updateVideoDetailTitleBar(view, '', 'title', view, screenFormat);
	}
	document.getElementById("link1").focus();
</script>

<script>


var selected = null, // Object of the element to be moved
			x_pos = 0, y_pos = 0, // Stores x & y coordinates of the mouse pointer
			x_elem = 0, y_elem = 0; // Stores top, left values (edge) of the element

		// Will be called when user starts dragging an element
		function _drag_init(elem) {
			// Store the object of the element which needs to be moved
			selected = elem;
			x_elem = x_pos - selected.offsetLeft;
			y_elem = y_pos - selected.offsetTop;
		}

		// Will be called when user dragging an element
		function _move_elem(e) {
			x_pos = document.all ? window.event.clientX : e.pageX;
			y_pos = document.all ? window.event.clientY : e.pageY;
			if (selected !== null) {
				selected.style.left = (x_pos - x_elem) + 'px';
				selected.style.top = (y_pos - y_elem) + 'px';
			}
		}

		// Destroy the object when we are done
		function _destroy() {
			selected = null;
		}

		// Bind the functions...
		document.getElementById('draggable-element').onmousedown = function () {
			_drag_init(this);
			return false;
		};

		document.onmousemove = _move_elem;
		document.onmouseup = _destroy;
	</script>